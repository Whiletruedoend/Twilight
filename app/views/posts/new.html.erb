<body style="background: #181a1b;">
  <div class="container">
    <h2>New post</h2>

    <ul class="nav nav-tabs">
      <li class="active"><a data-toggle="tab" href="#markdown">Markdown</a></li>
      <li><a data-toggle="tab" href="#attachments">Attachments</a></li>
      <li><a data-toggle="tab" href="#other">Other</a></li>
    </ul>

    <%= form_with(model: Post.new(user: @current_user)) do |f| %>
      <%= render 'shared/errors', object: @post %>
      <div class="tab-content">
        <div id="markdown" class="tab-pane in active title">
          <%= f.text_field(:title, { class: 'form-control', placeholder: "Enter title..." }) %>
          <div class="markdown-editor">
            <%= f.text_area :content, placeholder: "Enter some text..." %>
            <div id="preview" class="preview"></div>
          </div>
          <%= f.submit %> <% end %>
        </div>
        <div id="attachments" class="tab-pane">
          <h3>Not yet</h3>
        </div>
        <div id="other" class="tab-pane">
          <h3>Platforms</h3>
          <% if Platform.last.present? %>
            <% Platform.all.each do |platform| %>
              <%=check_box("platforms", platform.title, {:checked => false})%> <%=platform.title%>
            <% end %>
          <% else %>
            <p>Platforms not found!</p>
          <% end %>
          <h3>Tags</h3>
          <% if Tag.last.present? %>
            <% Tag.all.each do |tag| %>
              <%=check_box("tags", tag.id, {:checked => tag.enabled_by_default})%> <%=tag.name%>
            <% end %>
          <% else %>
            <p>Tags not found!</p>
          <% end %>
        </div>
      </div>
  </div>

</body>

<%= javascript_include_tag 'application.js' %>
<%= javascript_include_tag 'showdown.min.js' %>
<%= javascript_include_tag 'script.js' %>